{"mappings":"AAAA,MAAM;IACF,aAAc;QACV,IAAI,MAAM,WACN,OAAO,MAAM;QAGjB,IAAI,CAAC,QAAQ;YACT,MAAM,CAAC;YACP,MAAM,CAAC;YACP,IAAI,CAAC;QACT;QACA,IAAI,CAAC,SAAS;YACV,KAAK;gBACD,GAAG;gBACH,GAAG;YACP;YACA,OAAO;gBACH,GAAG;gBACH,GAAG;YACP;YACA,cAAc;YAEd,SAAS;gBACL,GAAG;gBACH,GAAG;YACP;QACJ;QAEA,IAAI,CAAC;QACL,IAAI,CAAC;QAEL,MAAM,YAAY,IAAI;IAC1B;IAEA,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC;IAChB;IAEA,OAAO,GAAG,EAAE;QACR,MAAM,IAAI;QACV,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,KAAK;QAC3C,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI;IAC/B;IAEA,YAAY,GAAG,EAAE,KAAK,EAAE,CAExB;IAEA,SAAS;QACL,IAAI,CAAC,OAAO,QAAQ;YAChB,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,CAAC,OAAO,QAAQ;YAC3C,GAAG,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,CAAC,OAAO,QAAQ;QAC/C;QACA,IAAI,CAAC,OAAO,UAAU;YAClB,GAAG,IAAI,CAAC,OAAO,IAAI;YACnB,GAAG,IAAI,CAAC,OAAO,IAAI;QACvB;IACJ;IAEA,aAAa;QACT,OAAO,UAAU,SAAS,CAAC;YACvB,MAAM,MAAM,EAAE,IAAI;YAClB,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,GAAG;QACtC;QAEA,OAAO,YAAY,SAAS,CAAC;YACzB,MAAM,MAAM,EAAE,IAAI;YAClB,MAAM,UAAU,MAAM,IAAI,CAAC,IAAI,GAAG;QACtC;IAGJ;IAEA,aAAa;QACT,MAAM,SAAS,SAAS,eAAe;QACvC,OAAO,cAAc,SAAS,CAAC;YAC3B,MAAM,QAAQ,MAAM;YACpB,MAAM,MAAM,eAAe;YAC3B,MAAM,OAAO,MAAM;gBACf,GAAG,EAAE;gBACL,GAAG,EAAE;YACT;YACA,MAAM,OAAO,UAAU;gBACnB,GAAG,EAAE;gBACL,GAAG,EAAE;YACT;QACJ;QACA,OAAO,YAAY,SAAS,CAAC;YACzB,MAAM,UAAU,MAAM,eAAe;QACzC;QACA,OAAO,cAAc,SAAS,CAAC;YAC3B,MAAM,UAAU,MAAM,MAAM;gBACxB,GAAG,EAAE;gBACL,GAAG,EAAE;YACT;QACJ;QACA,OAAO,eAAe,SAAS,CAAC;YAC5B,MAAM,UAAU,MAAM,eAAe;QACzC;IACJ;AACJ","sources":["src/LabaCore/src/Core/Input.js"],"sourcesContent":["class Input {\n    constructor() {\n        if (Input._instance) {\n            return Input._instance\n        }\n\n        this._keys = {\n            down: {},\n            hold: {},\n            up: {},\n        }\n        this._mouse = {\n            pos: {\n                x: 0,\n                y: 0,\n            },\n            delta: {\n                x: 0,\n                y: 0,\n            },\n            isHoldButton: false,\n\n            _oldPos: {\n                x: 0,\n                y: 0,\n            },\n        }\n\n        this._bindInput()\n        this._bindMouse()\n\n        Input._instance = this\n    }\n\n    get mouse() {\n        return this._mouse\n    }\n\n    getKey(key) {\n        key = key.toUpperCase()\n        if (this._keys.hold[key]) console.log(key, \"is pressed\")\n        return this._keys.hold[key]\n    }\n\n    setKeyEvent(key, event) {\n\n    }\n\n    update() {\n        this._mouse.delta = {\n            x: this._mouse.pos.x - this._mouse._oldPos.x,\n            y: this._mouse.pos.y - this._mouse._oldPos.y,\n        }\n        this._mouse._oldPos = {\n            x: this._mouse.pos.x,\n            y: this._mouse.pos.y,\n        }\n    }\n\n    _bindInput() {\n        window.onkeyup = function(e) {\n            const key = e.key.toUpperCase()\n            Input._instance._keys.hold[key] = false\n        }\n    \n        window.onkeydown = function(e) {\n            const key = e.key.toUpperCase()\n            Input._instance._keys.hold[key] = true\n        }\n\n        \n    }\n\n    _bindMouse() {\n        const canvas = document.getElementById('canvas')\n        canvas.onmousedown = function(e) {\n            const input = Input._instance\n            input.mouse.isHoldButton = true\n            input._mouse.pos = {\n                x: e.clientX,\n                y: e.clientY,\n            }\n            input._mouse._oldPos = {\n                x: e.clientX,\n                y: e.clientY,\n            }\n        }\n        canvas.onmouseup = function(e) {\n            Input._instance.mouse.isHoldButton = false\n        }\n        canvas.onmousemove = function(e) {\n            Input._instance.mouse.pos = {\n                x: e.clientX,\n                y: e.clientY,\n            }\n        }\n        canvas.onmouseleave = function(e) {\n            Input._instance.mouse.isHoldButton = false\n        }\n    }\n}"],"names":[],"version":3,"file":"index.fbeed4bd.js.map","sourceRoot":"/__parcel_source_root/"}